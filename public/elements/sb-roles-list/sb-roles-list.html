<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/components/core-list/core-list.html">
<polymer-element name="roles-list" attributes="hPanel roles clickedDeleteRoleCallback" layout vertical>
	<style>
		#userList {
			padding-top: 8px;
		}
	</style>
	<template id="rolesList">
		<style type="text/css">
			.item {
				height: 56px;
				border-bottom: 1px solid #f0f0f0;
				/*cursor: pointer;*/
			}
			.content {
				padding-left: 16px;
				padding-right: 16px;
			}
			.text {
				font-size: 16px;
			}
			.secondary-text {
				font-size: 14px;
			}
			.emails {
				color: #A3A3A3;
			}
			#list {
				padding-bottom: 72px;
			}
		</style>
		<div flex>
			<core-list id="list" data="{{roles}}" flex>
				<template>
					<div class="item role" data-role-id="{{model._id}}" horizontal layout center>
						<div class="content" flex horizontal justified layout>
							<div class="text" horizontal layout center>{{model.name}}</div>
							<div></div>
							<div horizontal layout center>
								<paper-icon-button icon="delete" on-tap="{{clickedDeleteRole}}"></paper-icon-button>
							<!-- {{model.leader}}<span class="emails"></span> -->
							</div>
						</div>
					</div>
				</template>
			</core-list>
		</div>
	</template>
	<script>
		Polymer('roles-list',{
			ready: function() {
				var self = this;
				// this sucks bigtime
				this.timeout1 = window.setTimeout(function() {
					if(document.getElementById(self.hPanel)){
	            		self.$.list.scrollTarget = document.getElementById(self.hPanel).scroller;
	            	}
  				}, 500);
			},
			clickedDeleteRole: function(e) {
				var role = e.target.templateInstance.model.model;
				this.clickedDeleteRoleCallback(e, role);
			},
			updateList: function() {
				this.$.list.updateSize();
			}
		});
	</script>
</polymer-element>